<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCUE EE 2026 AI Explorer</title>
    
    <!-- 1. è¼‰å…¥ Tailwind CSS (æ¨£å¼) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. è¼‰å…¥ React å’Œ ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. è¼‰å…¥ Babel (è®“ç€è¦½å™¨çœ‹æ‡‚ JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 4. è¨­å®šå­—é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ç°¡æ˜“åœ–æ¨™å…ƒä»¶ (ä½¿ç”¨ SVG é¿å…ä¾è³´) ---
        const Icons = {
            Brain: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"/><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"/><path d="M15 13a4.5 4.5 0 0 1-3-1.4 4.5 4.5 0 0 1-3 1.4"/><path d="M5.5 13a4.5 4.5 0 0 1 3-1.4 4.5 4.5 0 0 1 3 1.4"/><path d="M15.5 13a4.5 4.5 0 0 0 3-1.4 4.5 4.5 0 0 0 3 1.4"/><path d="M12 18h.01"/></svg>,
            Cpu: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="4" y="4" width="16" height="16" rx="2" /><rect x="9" y="9" width="6" height="6" /><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></svg>,
            Zap: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2" /></svg>,
            Activity: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>,
            BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            ChevronRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 18 15 12 9 6" /></svg>,
            CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            Code: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>,
            Mic: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>,
            MessageSquare: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>,
            ImageIcon: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>,
            Layers: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>,
            AlertCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>,
            RotateCcw: () => <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/></svg>
        };

        const CodeBlock = ({ code, language = 'python' }) => (
            <div className="bg-slate-900 rounded-lg p-4 font-mono text-sm text-slate-300 overflow-x-auto my-2 border border-slate-700 shadow-inner">
                <div className="flex justify-between items-center mb-2 border-b border-slate-700 pb-2">
                    <span className="text-xs text-blue-400 font-bold uppercase">{language}</span>
                    <div className="flex space-x-1">
                        <div className="w-2 h-2 rounded-full bg-red-500"></div>
                        <div className="w-2 h-2 rounded-full bg-yellow-500"></div>
                        <div className="w-2 h-2 rounded-full bg-green-500"></div>
                    </div>
                </div>
                <pre>{code}</pre>
            </div>
        );

        const Navigation = ({ activeTab, setActiveTab }) => {
            const tabs = [
                { id: 'home', label: 'é¦–é ', Icon: Icons.Brain },
                { id: 'concepts', label: 'æ ¸å¿ƒè§€å¿µ', Icon: Icons.Layers },
                { id: 'data', label: 'æ•¸æ“šèˆ‡å‰è™•ç†', Icon: Icons.Code },
                { id: 'lab', label: 'é›»æ©Ÿå¯¦é©—å®¤', Icon: Icons.Zap },
                { id: 'quiz', label: 'æŒ‘æˆ°', Icon: Icons.CheckCircle },
            ];

            return (
                <nav className="bg-slate-900 text-white shadow-lg sticky top-0 z-50 border-b border-blue-900/50">
                    <div className="max-w-7xl mx-auto px-4">
                        <div className="flex justify-between items-center h-16">
                            <div className="flex items-center space-x-2 font-bold text-xl text-blue-400">
                                <Icons.Zap />
                                <span className="bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400">EE x AI 2026</span>
                            </div>
                            <div className="hidden md:flex space-x-1">
                                {tabs.map((tab) => (
                                    <button
                                        key={tab.id}
                                        onClick={() => setActiveTab(tab.id)}
                                        className={`flex items-center space-x-2 px-3 py-2 rounded-md transition-all duration-300 ${
                                            activeTab === tab.id
                                                ? 'bg-blue-600/90 text-white shadow-[0_0_15px_rgba(37,99,235,0.5)]'
                                                : 'text-slate-300 hover:bg-slate-800 hover:text-blue-300'
                                        }`}
                                    >
                                        <tab.Icon />
                                        <span>{tab.label}</span>
                                    </button>
                                ))}
                            </div>
                            <div className="md:hidden text-sm text-gray-400">(è«‹ä½¿ç”¨å¯¬è¢å¹•ç€è¦½)</div>
                        </div>
                    </div>
                </nav>
            );
        };

        const Hero = ({ onStart }) => (
            <div className="bg-gradient-to-br from-slate-950 via-slate-900 to-blue-950 min-h-[calc(100vh-64px)] flex items-center justify-center text-white px-4 relative overflow-hidden">
                <div className="absolute inset-0 bg-[linear-gradient(rgba(30,41,59,0.3)_1px,transparent_1px),linear-gradient(90deg,rgba(30,41,59,0.3)_1px,transparent_1px)] bg-[size:40px_40px] [mask-image:radial-gradient(ellipse_60%_60%_at_50%_50%,#000_70%,transparent_100%)]"></div>
                <div className="max-w-4xl text-center space-y-8 relative z-10">
                    <div className="inline-flex items-center justify-center p-4 rounded-full bg-blue-500/10 border border-blue-400/30 mb-4 shadow-[0_0_30px_rgba(59,130,246,0.3)]">
                        <Icons.Cpu />
                    </div>
                    <h1 className="text-5xl md:text-7xl font-extrabold tracking-tight leading-tight">
                        é›»æ©Ÿç³»æ–°ç”Ÿçš„ <br />
                        <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400">AI æ¢ç´¢ä¹‹æ—…</span>
                    </h1>
                    <p className="text-xl md:text-2xl text-slate-300 max-w-2xl mx-auto leading-relaxed">
                        ä¸éœ€è¦æ·±å¥§çš„èƒŒæ™¯ï¼Œå¾<strong>ä¿¡è™Ÿ</strong>èˆ‡<strong>é›»è·¯</strong>ç›´è¦ºå‡ºç™¼ã€‚<br/>
                        äº†è§£å¦‚ä½•ç”¨ Python å¯¦ç¾é›»åŠ›é æ¸¬ã€èªéŸ³ç”Ÿæˆèˆ‡æƒ…æ„Ÿè¾¨è­˜ã€‚
                    </p>
                    <div className="flex justify-center gap-4 pt-8">
                        <button
                            onClick={onStart}
                            className="group bg-blue-600 hover:bg-blue-500 text-white px-8 py-4 rounded-full font-bold text-lg transition-all hover:scale-105 shadow-[0_0_20px_rgba(37,99,235,0.5)] flex items-center"
                        >
                            é–‹å§‹å¯¦é©—å®¤ <span className="ml-2 group-hover:translate-x-1 transition-transform"><Icons.ChevronRight/></span>
                        </button>
                    </div>
                </div>
            </div>
        );

        const Concepts = () => {
             const concepts = [
                {
                title: 'ç›£ç£å¼å­¸ç¿’ (Supervised)',
                desc: 'çµ¦å®šè¼¸å…¥ (Input) èˆ‡æ¨™æº–ç­”æ¡ˆ (Label)ï¼Œè¨“ç·´æ¨¡å‹æœ€å°åŒ–èª¤å·®ã€‚å°±åƒæˆ‘å€‘åœ¨é›»è·¯å¯¦é©—ä¸­ï¼Œèª¿æ•´åƒæ•¸è®“è¼¸å‡ºé›»å£“ç¬¦åˆé æœŸã€‚',
                ee_analogy: 'å°æ‡‰ EEï¼šç³»çµ±è­˜åˆ¥ (System ID)ã€æ¿¾æ³¢å™¨è¨­è¨ˆ',
                code: `# PyTorch ç¯„ä¾‹: ç·šæ€§å›æ­¸
model = nn.Linear(in_features=1, out_features=1)
criterion = nn.MSELoss() # å‡æ–¹èª¤å·®
optimizer = torch.optim.SGD(model.parameters(), lr=0.01)

# è¨“ç·´è¿´åœˆ
pred = model(input_voltage)
loss = criterion(pred, target_voltage)
loss.backward() # åå‘å‚³æ’­ (è¨ˆç®—æ¢¯åº¦)
optimizer.step() # æ›´æ–°æ¬Šé‡`
                },
                {
                title: 'éç›£ç£å¼å­¸ç¿’ (Unsupervised)',
                desc: 'æ²’æœ‰æ¨™æº–ç­”æ¡ˆï¼Œè®“æ¨¡å‹è‡ªå·±æ‰¾å‡ºè³‡æ–™çš„çµæ§‹æˆ–ç¾¤èšã€‚ä¾‹å¦‚å°‡ç›¸ä¼¼æ³¢å½¢çš„ä¿¡è™Ÿåˆ†åœ¨åŒä¸€é¡ã€‚',
                ee_analogy: 'å°æ‡‰ EEï¼šä¿¡è™Ÿåˆ†ç¾¤ã€é›œè¨Šç‰¹å¾µæå–',
                code: `# Scikit-Learn ç¯„ä¾‹: K-Means åˆ†ç¾¤
from sklearn.cluster import KMeans

# å‡è¨­ X æ˜¯è’é›†åˆ°çš„é›»åŠ›è² è¼‰è³‡æ–™
kmeans = KMeans(n_clusters=3) 
kmeans.fit(X)

# è‡ªå‹•å°‡è² è¼‰æ¨¡å¼åˆ†ç‚º: [é›¢å³°, æ­£å¸¸, å°–å³°]`
                },
                {
                title: 'è‡ªå›æ­¸ (Autoregressive) & æ™‚é–“åºåˆ—',
                desc: 'åˆ©ç”¨éå»çš„è³‡æ–™ä¾†é æ¸¬æœªä¾†ã€‚é€™åœ¨é›»åŠ›è² è¼‰é æ¸¬ã€èªéŸ³ç”Ÿæˆä¸­éå¸¸é‡è¦ã€‚ç›®å‰çš„è¼¸å‡ºæ˜¯ä¸‹ä¸€å€‹æ™‚é–“é»çš„è¼¸å…¥ã€‚',
                ee_analogy: 'å°æ‡‰ EEï¼šé›¢æ•£æ™‚é–“ç³»çµ± x[n] = a*x[n-1] + b',
                code: `# æ¦‚å¿µç¢¼: é æ¸¬ä¸‹ä¸€å€‹æ™‚é–“é»
def autoregressive_predict(history):
    # åˆ©ç”¨éå» 24 å°æ™‚çš„è³‡æ–™é æ¸¬ä¸‹ä¸€å°æ™‚
    prediction = model(history)
    return prediction
    
# å¸¸ç”¨æ¨¡å‹: LSTM, GRU, Transformer`
                }
            ];

            return (
                <div className="py-12 px-4 max-w-6xl mx-auto">
                    <h2 className="text-3xl font-bold text-slate-800 mb-8 flex items-center gap-2">
                        <span className="text-blue-600"><Icons.BookOpen /></span> AI æ ¸å¿ƒè§€å¿µ x Python å¯¦ä½œ
                    </h2>
                    <div className="grid md:grid-cols-1 gap-8">
                        {concepts.map((item, idx) => (
                        <div key={idx} className="bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden hover:shadow-lg transition-shadow">
                            <div className="p-6 md:flex gap-8">
                            <div className="md:w-1/2 space-y-4">
                                <h3 className="text-2xl font-bold text-slate-800">{item.title}</h3>
                                <p className="text-slate-600 leading-relaxed">{item.desc}</p>
                                <div className="inline-block px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-semibold">
                                {item.ee_analogy}
                                </div>
                            </div>
                            <div className="md:w-1/2 mt-4 md:mt-0">
                                <CodeBlock code={item.code} />
                            </div>
                            </div>
                        </div>
                        ))}
                    </div>
                </div>
            );
        };

        const DataProjects = () => {
            const [activeProject, setActiveProject] = useState('audio');

            const projects = {
                audio: {
                title: 'å°ˆæ¡ˆï¼šèªéŸ³ç”Ÿæˆèˆ‡è­˜åˆ¥',
                Icon: Icons.Mic,
                desc: 'å¾æ³¢å½¢ (Waveform) åˆ°é »è­œåœ– (Spectrogram)ã€‚èªéŸ³ä¿¡è™Ÿæœ¬è³ªä¸Šæ˜¯ä¸€ç¶­çš„æ™‚é–“åºåˆ—ï¼Œä½†åœ¨ AI ä¸­æˆ‘å€‘é€šå¸¸å°‡å…¶è½‰æ›ç‚ºäºŒç¶­åœ–åƒè™•ç†ã€‚',
                pipeline: ['åŸå§‹éŸ³è¨Š (Raw Audio)', 'é åŠ å¼· (Pre-emphasis)', 'çŸ­æ™‚è·å‚…ç«‹è‘‰ (STFT)', 'æ¢…çˆ¾é »è­œ (Mel-Spectrogram)', 'CNN/RNN æ¨¡å‹'],
                code: `# Librosa éŸ³è¨Šè™•ç†ç¯„ä¾‹
import librosa
import numpy as np

# 1. è®€å–éŸ³æª” (é¡æ¯”è½‰æ•¸ä½ sampling)
y, sr = librosa.load('speech.wav', sr=16000)

# 2. çŸ­æ™‚è·å‚…ç«‹è‘‰è½‰æ› (STFT)
# å°‡æ™‚åŸŸä¿¡è™Ÿè½‰ç‚ºé »åŸŸ
D = librosa.stft(y)

# 3. è½‰ç‚ºæ¢…çˆ¾é »è­œ (æ¨¡æ“¬äººè€³è½è¦º)
# é€™æ˜¯èªéŸ³ç”Ÿæˆèˆ‡è¾¨è­˜æœ€å¸¸ç”¨çš„ç‰¹å¾µ
S = librosa.feature.melspectrogram(y=y, sr=sr, n_mels=128)
log_S = librosa.power_to_db(S, ref=np.max)`
                },
                nlp: {
                title: 'å°ˆæ¡ˆï¼šæƒ…æ„Ÿè¾¨è­˜ (NLP)',
                Icon: Icons.MessageSquare,
                desc: 'é›»è…¦çœ‹ä¸æ‡‚ä¸­æ–‡ï¼Œæˆ‘å€‘éœ€è¦å°‡æ–‡å­—ã€Œä»£å¹£åŒ– (Tokenize)ã€ä¸¦è½‰ç‚ºå‘é‡ (Embedding)ã€‚é€™å°±æ˜¯å¤§å‹èªè¨€æ¨¡å‹ (LLM) çš„åŸºç¤ã€‚',
                pipeline: ['æ–‡å­—è¼¸å…¥', 'æ–·è© (Tokenization)', 'å‘é‡åŒ– (Embedding)', 'Transformer Encoder', 'åˆ†é¡è¼¸å‡º'],
                code: `# Transformers NLP è™•ç†ç¯„ä¾‹
from transformers import AutoTokenizer

text = "é›»æ©Ÿç³»é€™é–€èª²çœŸæœ‰è¶£ï¼"

# 1. åˆå§‹åŒ–æ–·è©å™¨
tokenizer = AutoTokenizer.from_pretrained("bert-base-chinese")

# 2. è½‰ç‚ºæ•¸å­— ID (Token IDs)
# [CLS] é›»æ©Ÿç³» [SEP] ...
inputs = tokenizer(text, return_tensors="pt")

print(inputs['input_ids'])
# tensor([[101, 7592, 2341, ..., 102]])

# 3. Embedding å±¤æœƒå°‡é€™äº› ID 
# è½‰ç‚ºé«˜ç¶­åº¦çš„å‘é‡ç©ºé–“ (ä¾‹å¦‚ 768 ç¶­)`
                },
                image: {
                title: 'å°ˆæ¡ˆï¼šå½±åƒè¾¨è­˜',
                Icon: Icons.ImageIcon,
                desc: 'å½±åƒåœ¨é›»è…¦çœ¼ä¸­åªæ˜¯ä¸€å€‹å·¨å¤§çš„çŸ©é™£ã€‚æˆ‘å€‘éœ€è¦å°‡åƒç´ å€¼æ¨™æº–åŒ– (Normalization)ï¼Œè®“æ¨¡å‹æ›´å®¹æ˜“æ”¶æ–‚ã€‚',
                pipeline: ['åœ–ç‰‡è¼¸å…¥ (RGB)', 'èª¿æ•´å¤§å° (Resize)', 'è½‰ç‚ºå¼µé‡ (ToTensor)', 'æ¨™æº–åŒ– (Normalize)', 'CNN æ¨¡å‹'],
                code: `# PyTorch å½±åƒé è™•ç†ç¯„ä¾‹
from torchvision import transforms
from PIL import Image

# å®šç¾©å‰è™•ç†æµç¨‹
transform = transforms.Compose([
    transforms.Resize((224, 224)), # çµ±ä¸€å¤§å°
    transforms.ToTensor(),         # è½‰ç‚º 0-1 ä¹‹é–“çš„ Float Tensor
    # æ¨™æº–åŒ–: æ¸›å»å¹³å‡å€¼ï¼Œé™¤ä»¥æ¨™æº–å·®
    # é€™æ˜¯ç‚ºäº†è®“è³‡æ–™åˆ†ä½ˆåœ¨ 0 é™„è¿‘ï¼ŒåŠ é€Ÿè¨“ç·´
    transforms.Normalize(mean=[0.485, 0.456, 0.406],
                         std=[0.229, 0.224, 0.225])
])

img = Image.open("circuit_board.jpg")
input_tensor = transform(img)`
                }
            };

            const current = projects[activeProject];
            const CurrentIcon = current.Icon;

            return (
                <div className="py-12 px-4 max-w-6xl mx-auto">
                    <h2 className="text-3xl font-bold text-slate-800 mb-8 flex items-center gap-2">
                        <span className="text-purple-600"><Icons.Code /></span> æ•¸æ“šå‰è™•ç†èˆ‡å°ˆæ¡ˆå¯¦æˆ°
                    </h2>
                    
                    <div className="flex flex-col md:flex-row gap-8">
                        <div className="md:w-1/4 flex flex-row md:flex-col gap-2 overflow-x-auto md:overflow-visible pb-4 md:pb-0">
                        {Object.keys(projects).map((key) => {
                            const ProjectIcon = projects[key].Icon;
                            return (
                                <button
                                key={key}
                                onClick={() => setActiveProject(key)}
                                className={`flex items-center gap-3 p-4 rounded-xl transition-all whitespace-nowrap ${
                                    activeProject === key 
                                    ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/30' 
                                    : 'bg-white text-slate-600 hover:bg-slate-50 border border-slate-200'
                                }`}
                                >
                                <ProjectIcon />
                                <span className="font-bold">{key === 'audio' ? 'èªéŸ³ç”Ÿæˆ' : key === 'nlp' ? 'è‡ªç„¶èªè¨€' : 'é›»è…¦è¦–è¦º'}</span>
                                </button>
                            );
                        })}
                        </div>

                        <div className="md:w-3/4 bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden">
                        <div className="p-8 bg-slate-50 border-b border-slate-200">
                            <h3 className="text-2xl font-bold text-slate-800 flex items-center gap-3">
                                <CurrentIcon /> {current.title}
                            </h3>
                            <p className="mt-2 text-slate-600">{current.desc}</p>
                        </div>
                        
                        <div className="p-8 space-y-8">
                            <div>
                            <h4 className="text-sm font-bold text-slate-400 uppercase mb-4 tracking-wider">è™•ç†æµç¨‹ Pipeline</h4>
                            <div className="flex flex-wrap items-center gap-4">
                                {current.pipeline.map((step, i) => (
                                <React.Fragment key={i}>
                                    <div className="px-4 py-2 bg-white border-2 border-blue-100 rounded-lg shadow-sm text-sm font-medium text-slate-700">
                                    {step}
                                    </div>
                                    {i < current.pipeline.length - 1 && (
                                    <span className="text-slate-300"><Icons.ChevronRight /></span>
                                    )}
                                </React.Fragment>
                                ))}
                            </div>
                            </div>

                            <div>
                            <h4 className="text-sm font-bold text-slate-400 uppercase mb-2 tracking-wider">Python å¯¦ä½œä»£ç¢¼</h4>
                            <CodeBlock code={current.code} />
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            );
        };

        const PowerLoadLab = () => {
            const [temperature, setTemperature] = useState(28);
            const [timeOfDay, setTimeOfDay] = useState(12);
            const [dataPoints, setDataPoints] = useState([]);

            useEffect(() => {
                const newData = [];
                for (let t = 0; t <= 24; t++) {
                const timeFactor = -Math.cos((t - 15) * Math.PI / 12) * 50 + 100;
                const tempImpact = Math.pow(Math.max(0, temperature - 20), 1.5) * 5;
                const noise = Math.random() * 5; 
                const load = timeFactor + tempImpact + noise;
                newData.push({ time: t, load });
                }
                setDataPoints(newData);
            }, [temperature]);

            const currentLoad = dataPoints[Math.round(timeOfDay)]?.load || 0;

            return (
                <div className="space-y-8">
                <div className="bg-white p-6 rounded-2xl shadow-lg border border-slate-200">
                    <div className="flex items-center justify-between mb-6">
                    <div>
                        <h3 className="text-xl font-bold text-slate-800 flex items-center gap-2">
                        <span className="text-yellow-500"><Icons.Zap /></span> é›»åŠ›è² è¼‰é æ¸¬ (Load Forecasting)
                        </h3>
                        <p className="text-sm text-slate-500 mt-1">
                        é€™æ˜¯ä¸€å€‹å…¸å‹çš„<strong>å›æ­¸ (Regression)</strong> å•é¡Œã€‚AI æ¨¡å‹éœ€è¦æ ¹æ“šæ°£æº«èˆ‡æ™‚é–“ï¼Œé æ¸¬åŸå¸‚æ‰€éœ€çš„é›»é‡ã€‚
                        </p>
                    </div>
                    <div className="text-right">
                        <div className="text-3xl font-mono font-bold text-slate-800">{currentLoad.toFixed(1)} <span className="text-base text-slate-500">MW</span></div>
                        <div className="text-xs text-green-600 font-bold">é æ¸¬è¼¸å‡º (Predicted)</div>
                    </div>
                    </div>

                    <div className="flex flex-col md:flex-row gap-8">
                    <div className="flex-1 h-64 bg-slate-50 rounded-lg border border-slate-200 relative overflow-hidden p-4">
                        <svg className="w-full h-full" viewBox="0 0 240 150" preserveAspectRatio="none">
                        <line x1="0" y1="120" x2="240" y2="120" stroke="#cbd5e1" strokeWidth="1" />
                        <line x1="0" y1="0" x2="0" y2="150" stroke="#cbd5e1" strokeWidth="1" />
                        
                        <polyline
                            fill="none"
                            stroke="#3b82f6"
                            strokeWidth="3"
                            points={dataPoints.map(d => `${d.time * 10},${140 - d.load * 0.6}`).join(' ')}
                            strokeLinecap="round"
                            strokeLinejoin="round"
                        />
                        
                        <line 
                            x1={timeOfDay * 10} y1="0" 
                            x2={timeOfDay * 10} y2="150" 
                            stroke="#ef4444" 
                            strokeWidth="2" 
                            strokeDasharray="4 2"
                        />
                        <circle 
                            cx={timeOfDay * 10} 
                            cy={140 - currentLoad * 0.6} 
                            r="4" 
                            fill="#ef4444" 
                        />
                        </svg>
                        <div className="absolute bottom-1 right-2 text-xs text-slate-400">Time (Hours)</div>
                        <div className="absolute top-2 left-2 text-xs text-slate-400">Load (MW)</div>
                    </div>

                    <div className="w-full md:w-1/3 space-y-6">
                        <div className="bg-slate-100 p-4 rounded-xl">
                        <label className="block text-sm font-bold text-slate-700 mb-2">
                            ç’°å¢ƒæº«åº¦ (Input Feature: Temperature)
                        </label>
                        <input 
                            type="range" 
                            min="15" max="40" 
                            value={temperature} 
                            onChange={(e) => setTemperature(parseInt(e.target.value))}
                            className="w-full accent-red-500"
                        />
                        <div className="flex justify-between text-xs text-slate-500 mt-1">
                            <span>15Â°C</span>
                            <span className="font-bold text-red-500">{temperature}Â°C</span>
                            <span>40Â°C</span>
                        </div>
                        <p className="text-xs text-slate-500 mt-2">
                            è§€å¯Ÿï¼šç•¶æº«åº¦å‡é«˜ï¼Œå†·æ°£ç”¨é›»å¢åŠ ï¼Œæ¨¡å‹é æ¸¬çš„è² è¼‰æ›²ç·šæœƒæ•´é«”ä¸Šç§»ä¸”å³°å€¼æ›´æ˜é¡¯ã€‚
                        </p>
                        </div>

                        <div className="bg-slate-100 p-4 rounded-xl">
                            <label className="block text-sm font-bold text-slate-700 mb-2">
                            ç•¶å‰æ™‚é–“ (Time of Day)
                            </label>
                            <input 
                            type="range" 
                            min="0" max="24" step="0.5"
                            value={timeOfDay} 
                            onChange={(e) => setTimeOfDay(parseFloat(e.target.value))}
                            className="w-full accent-blue-500"
                            />
                            <div className="text-center font-mono text-blue-600 mt-1">
                            {Math.floor(timeOfDay).toString().padStart(2,'0')}:{Math.round((timeOfDay%1)*60).toString().padStart(2,'0')}
                            </div>
                        </div>
                    </div>
                    </div>
                </div>

                <div className="bg-slate-900 rounded-xl p-6 border border-slate-700">
                    <h4 className="text-white font-bold mb-2 flex items-center gap-2">
                        <Icons.Code /> Python å¯¦ä½œæ¦‚å¿µ (Scikit-Learn)
                    </h4>
                    <p className="text-slate-400 text-sm mb-4">
                        åœ¨å¯¦éš›çš„é›»åŠ›å¯¦é©—å®¤ä¸­ï¼Œæˆ‘å€‘æœƒæ”¶é›†æ•¸å¹´çš„æ­·å²è³‡æ–™ (æº«åº¦, æ™‚é–“, éå»è² è¼‰)ï¼Œè¨“ç·´ä¸€å€‹å›æ­¸æ¨¡å‹ã€‚
                    </p>
                    <CodeBlock code={`from sklearn.linear_model import LinearRegression
import numpy as np

# Features: [Temperature, Hour_of_Day]
X_train = np.array([[28, 12], [35, 14], [20, 03], ...])
# Target: Load (MW)
y_train = np.array([120.5, 180.2, 90.5, ...])

# åˆå§‹åŒ–ä¸¦è¨“ç·´æ¨¡å‹
model = LinearRegression()
model.fit(X_train, y_train)

# é€²è¡Œé æ¸¬ (å³æ™‚æ¨è«–)
current_conditions = np.array([[${temperature}, ${Math.floor(timeOfDay)}]])
prediction = model.predict(current_conditions)
print(f"Predicted Load: {prediction} MW")`} />
                </div>
                </div>
            );
        };

        const PerceptronLab = () => {
            const [w1, setW1] = useState(0.5);
            const [w2, setW2] = useState(0.5);
            const [bias, setBias] = useState(-0.5);
            const [inputs, setInputs] = useState({ x1: 1, x2: 0 });

            const weightedSum = (inputs.x1 * w1) + (inputs.x2 * w2) + bias;
            const activation = weightedSum > 0 ? 1 : 0; 

            return (
                <div className="bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200">
                    <div className="p-6 border-b border-slate-100">
                    <h3 className="text-xl font-bold text-slate-800 flex items-center gap-2">
                        <span className="text-blue-500"><Icons.Activity /></span> æ„ŸçŸ¥å™¨ (Perceptron)
                    </h3>
                    <p className="text-sm text-slate-500 mt-1">
                        ç¥ç¶“ç¶²è·¯çš„æœ€åŸºæœ¬å–®å…ƒã€‚é›»æ©Ÿç³»å­¸ç”Ÿå¯ä»¥æŠŠå®ƒæƒ³åƒæˆä¸€å€‹è»Ÿé«”å¯¦ä½œçš„<strong>æ¯”è¼ƒå™¨ (Comparator)</strong>ã€‚
                    </p>
                    </div>
                    
                    <div className="p-8">
                    <div className="flex flex-col md:flex-row gap-12">
                        
                        <div className="flex-1 space-y-6">
                        <div className="space-y-4 bg-slate-50 p-6 rounded-xl border border-slate-100">
                            <div>
                            <div className="flex justify-between text-sm mb-1 font-semibold text-slate-700">
                                <label>æ¬Šé‡ W1 (Input 1 Gain)</label>
                                <span className="font-mono">{w1.toFixed(1)}</span>
                            </div>
                            <input type="range" min="-2" max="2" step="0.1" value={w1} onChange={(e) => setW1(parseFloat(e.target.value))} className="w-full accent-blue-600" />
                            </div>
                            <div>
                            <div className="flex justify-between text-sm mb-1 font-semibold text-slate-700">
                                <label>æ¬Šé‡ W2 (Input 2 Gain)</label>
                                <span className="font-mono">{w2.toFixed(1)}</span>
                            </div>
                            <input type="range" min="-2" max="2" step="0.1" value={w2} onChange={(e) => setW2(parseFloat(e.target.value))} className="w-full accent-blue-600" />
                            </div>
                            <div>
                            <div className="flex justify-between text-sm mb-1 font-semibold text-slate-700">
                                <label>åå·® Bias (Threshold)</label>
                                <span className="font-mono">{bias.toFixed(1)}</span>
                            </div>
                            <input type="range" min="-2" max="2" step="0.1" value={bias} onChange={(e) => setBias(parseFloat(e.target.value))} className="w-full accent-purple-600" />
                            </div>
                        </div>

                        <div className="grid grid-cols-2 gap-4">
                            <button onClick={() => setInputs({ x1: 0, x2: 0 })} className={`py-2 rounded border transition-colors ${inputs.x1===0 && inputs.x2===0 ? 'bg-blue-600 text-white border-blue-600' : 'hover:bg-slate-50'}`}>In: (0, 0)</button>
                            <button onClick={() => setInputs({ x1: 0, x2: 1 })} className={`py-2 rounded border transition-colors ${inputs.x1===0 && inputs.x2===1 ? 'bg-blue-600 text-white border-blue-600' : 'hover:bg-slate-50'}`}>In: (0, 1)</button>
                            <button onClick={() => setInputs({ x1: 1, x2: 0 })} className={`py-2 rounded border transition-colors ${inputs.x1===1 && inputs.x2===0 ? 'bg-blue-600 text-white border-blue-600' : 'hover:bg-slate-50'}`}>In: (1, 0)</button>
                            <button onClick={() => setInputs({ x1: 1, x2: 1 })} className={`py-2 rounded border transition-colors ${inputs.x1===1 && inputs.x2===1 ? 'bg-blue-600 text-white border-blue-600' : 'hover:bg-slate-50'}`}>In: (1, 1)</button>
                        </div>
                        </div>

                        <div className="flex-1 flex flex-col items-center justify-center bg-slate-900 rounded-xl p-6 text-white relative shadow-inner">
                        <div className="flex items-center gap-4 mb-8 scale-90 md:scale-100">
                            <div className="space-y-8">
                            <div className={`w-16 h-16 rounded-full flex items-center justify-center border-2 font-bold transition-all duration-500 ${inputs.x1 ? 'bg-green-500 border-green-400 shadow-[0_0_15px_rgba(34,197,94,0.6)]' : 'bg-slate-700 border-slate-600 text-slate-400'}`}>X1</div>
                            <div className={`w-16 h-16 rounded-full flex items-center justify-center border-2 font-bold transition-all duration-500 ${inputs.x2 ? 'bg-green-500 border-green-400 shadow-[0_0_15px_rgba(34,197,94,0.6)]' : 'bg-slate-700 border-slate-600 text-slate-400'}`}>X2</div>
                            </div>

                            <div className="flex flex-col space-y-12">
                                <div className="w-20 h-1 bg-slate-600 relative overflow-hidden">
                                    <div className={`absolute inset-0 bg-blue-400 transition-transform duration-1000 ${inputs.x1 ? 'translate-x-0' : '-translate-x-full'}`}></div>
                                </div>
                                <div className="w-20 h-1 bg-slate-600 relative overflow-hidden">
                                    <div className={`absolute inset-0 bg-blue-400 transition-transform duration-1000 ${inputs.x2 ? 'translate-x-0' : '-translate-x-full'}`}></div>
                                </div>
                            </div>

                            <div className="w-32 h-32 rounded-full bg-slate-800 border-4 border-blue-500 flex flex-col items-center justify-center relative z-10 shadow-lg">
                                <div className="text-xs text-slate-400 mb-1">Activation</div>
                                <div className="font-mono text-xl font-bold">{weightedSum.toFixed(2)}</div>
                                <div className="w-full h-[1px] bg-slate-600 my-1"></div>
                                <div className="text-xs text-purple-300">Bias: {bias}</div>
                            </div>

                            <div className="w-16 h-1 bg-slate-600 relative">
                                <div className={`absolute inset-0 bg-yellow-400 transition-transform duration-300 ${activation ? 'translate-x-0' : '-translate-x-full'}`}></div>
                            </div>

                            <div className={`w-20 h-20 rounded-md flex flex-col items-center justify-center border-2 font-bold transition-all duration-300 ${activation ? 'bg-yellow-500 border-yellow-300 text-black shadow-[0_0_20px_rgba(234,179,8,0.8)] scale-110' : 'bg-slate-800 border-slate-600 text-slate-500'}`}>
                            <span>OUT</span>
                            <span className="text-2xl">{activation}</span>
                            </div>
                        </div>
                        
                        <div className="text-xs font-mono text-slate-400 bg-black/30 p-2 rounded">
                            Output = 1 if (X1*W1 + X2*W2 + Bias) &gt; 0 else 0
                        </div>
                        </div>
                    </div>
                    </div>
                </div>
            );
        }

        const LabSection = () => {
            return (
                <div className="py-12 px-4 max-w-6xl mx-auto space-y-12">
                    <h2 className="text-3xl font-bold text-slate-800 text-center mb-8">é›»æ©Ÿ x AI äº’å‹•å¯¦é©—å®¤</h2>
                    <PowerLoadLab />
                    <PerceptronLab />
                </div>
            )
        }

        const Quiz = () => {
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [showScore, setShowScore] = useState(false);
            const [selectedAnswer, setSelectedAnswer] = useState(null);

            const questions = [
                {
                question: "åœ¨ã€ŒèªéŸ³ç”Ÿæˆã€å°ˆæ¡ˆä¸­ï¼Œæˆ‘å€‘é€šå¸¸æœƒå°‡èªéŸ³ä¿¡è™Ÿè½‰æ›æˆä»€éº¼åœ–å½¢ä¾†è®“ CNN æ¨¡å‹è™•ç†ï¼Ÿ",
                options: ["é•·æ¢åœ– (Bar Chart)", "æ¢…çˆ¾é »è­œåœ– (Mel-Spectrogram)", "åœ“é¤…åœ– (Pie Chart)", "æ•£ä½ˆåœ– (Scatter Plot)"],
                correct: 1
                },
                {
                question: "åœ¨é›»åŠ›è² è¼‰é æ¸¬ä¸­ï¼Œå¦‚æœæˆ‘å€‘è¦åˆ©ç”¨ã€Œéå» 24 å°æ™‚çš„ç”¨é›»é‡ã€ä¾†é æ¸¬ã€Œä¸‹ä¸€å°æ™‚ã€ï¼Œé€™å±¬æ–¼å“ªç¨®ä»»å‹™ï¼Ÿ",
                options: ["åœ–åƒåˆ†é¡ (Classification)", "è‡ªå›æ­¸ / æ™‚é–“åºåˆ—é æ¸¬ (Autoregressive)", "éç›£ç£å¼åˆ†ç¾¤ (Clustering)", "å¼·åŒ–å­¸ç¿’ (RL)"],
                correct: 1
                },
                {
                question: "é›»è…¦åœ¨è™•ç†ã€Œè‡ªç„¶èªè¨€ (NLP)ã€æ™‚ï¼Œç¬¬ä¸€æ­¥é€šå¸¸æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["ç›´æ¥é–±è®€æ–‡å­—", "å°‡æ–‡å­—è½‰ç‚ºåœ–ç‰‡", "æ–·è© (Tokenization) èˆ‡ å‘é‡åŒ– (Embedding)", "æ’­æ”¾èªéŸ³"],
                correct: 2
                },
                {
                question: "é—œæ–¼ã€Œç›£ç£å¼å­¸ç¿’ (Supervised Learning)ã€ï¼Œä¸‹åˆ—æ•˜è¿°ä½•è€…æ­£ç¢ºï¼Ÿ",
                options: ["ä¸éœ€è¦ä»»ä½•æ¨™ç±¤è³‡æ–™", "è¨“ç·´è³‡æ–™å¿…é ˆåŒ…å«è¼¸å…¥èˆ‡æ­£ç¢ºç­”æ¡ˆ (Label)", "æ¨¡å‹æœƒè‡ªå·±ç”¢ç”Ÿè³‡æ–™", "åªèƒ½ç”¨æ–¼åœ–åƒè™•ç†"],
                correct: 1
                }
            ];

            const handleAnswer = (index) => {
                setSelectedAnswer(index);
                if (index === questions[currentQuestion].correct) {
                setScore(score + 1);
                }
                
                setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setSelectedAnswer(null);
                } else {
                    setShowScore(true);
                }
                }, 1000);
            };

            const resetQuiz = () => {
                setCurrentQuestion(0);
                setScore(0);
                setShowScore(false);
                setSelectedAnswer(null);
            };

            return (
                <div className="py-12 px-4 max-w-3xl mx-auto">
                <h2 className="text-3xl font-bold text-slate-800 mb-8 text-center">è§€å¿µé©—æ”¶</h2>
                <div className="bg-white p-8 rounded-2xl shadow-lg border border-slate-100 relative overflow-hidden">
                    {showScore ? (
                    <div className="text-center py-8">
                        <div className="text-6xl mb-4 animate-bounce">ğŸ†</div>
                        <h3 className="text-2xl font-bold text-slate-800 mb-2">æŒ‘æˆ°å®Œæˆï¼</h3>
                        <p className="text-lg text-slate-600 mb-6">
                        ä½ çš„å¾—åˆ†æ˜¯ï¼š<span className="font-bold text-blue-600 text-2xl">{score}</span> / {questions.length}
                        </p>
                        <button 
                        onClick={resetQuiz}
                        className="flex items-center justify-center gap-2 mx-auto px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/30"
                        >
                        <Icons.RotateCcw /> é‡æ–°æŒ‘æˆ°
                        </button>
                    </div>
                    ) : (
                    <div>
                        <div className="w-full bg-slate-100 h-2 rounded-full mb-6">
                            <div 
                                className="bg-blue-500 h-2 rounded-full transition-all duration-500"
                                style={{ width: `${((currentQuestion) / questions.length) * 100}%` }}
                            ></div>
                        </div>
                        <div className="flex justify-between items-center mb-6 text-sm text-slate-500">
                        <span className="font-mono">Q{currentQuestion + 1}</span>
                        <span className="font-mono">Score: {score}</span>
                        </div>
                        <h3 className="text-xl font-bold text-slate-800 mb-6 leading-relaxed">
                        {questions[currentQuestion].question}
                        </h3>
                        <div className="space-y-3">
                        {questions[currentQuestion].options.map((option, index) => (
                            <button
                            key={index}
                            onClick={() => handleAnswer(index)}
                            disabled={selectedAnswer !== null}
                            className={`w-full text-left p-4 rounded-xl border transition-all duration-200 ${
                                selectedAnswer === index
                                ? index === questions[currentQuestion].correct
                                    ? 'bg-green-100 border-green-500 text-green-800 shadow-[0_0_10px_rgba(34,197,94,0.3)]'
                                    : 'bg-red-100 border-red-500 text-red-800'
                                : 'border-slate-200 hover:bg-slate-50 hover:border-blue-300 hover:pl-6'
                            }`}
                            >
                            <div className="flex items-center justify-between">
                                {option}
                                {selectedAnswer === index && (
                                    index === questions[currentQuestion].correct 
                                    ? <Icons.CheckCircle className="text-green-600" />
                                    : <Icons.AlertCircle className="text-red-600" />
                                )}
                            </div>
                            </button>
                        ))}
                        </div>
                    </div>
                    )}
                </div>
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('home');

            return (
                <div className="min-h-screen bg-slate-50 font-sans text-slate-900 flex flex-col">
                <Navigation activeTab={activeTab} setActiveTab={setActiveTab} />
                
                <main className="flex-grow">
                    {activeTab === 'home' && <Hero onStart={() => setActiveTab('concepts')} />}
                    {activeTab === 'concepts' && <Concepts />}
                    {activeTab === 'data' && <DataProjects />}
                    {activeTab === 'lab' && <LabSection />}
                    {activeTab === 'quiz' && <Quiz />}
                </main>

                <footer className="bg-slate-900 text-slate-400 py-8 text-center mt-auto border-t border-slate-800">
                    <p className="text-sm font-medium mb-2">Designed for EE Freshmen</p>
                    <p className="text-xs opacity-60">Â© 2026 AI Explorer for Electrical Engineers. All rights reserved.</p>
                </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>